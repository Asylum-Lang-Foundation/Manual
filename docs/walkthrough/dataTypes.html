<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Types &mdash; Asylum  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Variables" href="variables.html" />
    <link rel="prev" title="Functions" href="functions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #de7cff" >

          
          
          <a href="../index.html" class="icon icon-home">
            Asylum
              <img src="../_static/AsylumLogo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Asylum Language Reference:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About Asylum</a></li>
<li class="toctree-l1"><a class="reference internal" href="helloWorld.html">First Program (Hello World)</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#purpose-of-data-types">Purpose Of Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#primitive-data-types">Primitive Data Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#void">Void</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bool">Bool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#integer-types">Integer Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#floating-point-types">Floating Point Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-numbers">Other Numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-based">Text Based</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-type">Function Type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-types">Non-Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#special-types">Special Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tuple-types">Tuple Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#array-types">Array Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-types">Other Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#easl-types">EASL Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#c-compatibility">C Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#smart-references">Smart References</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vectors">Vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#matrices">Matrices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Other Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#storage-qualifiers">Storage Qualifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#typedefs">Typedefs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#structs">Structs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#infinite-structs">Infinite Structs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#challenges">Challenges</a></li>
<li class="toctree-l2"><a class="reference internal" href="#challenge-solutions">Challenge Solutions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuples.html">Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementations.html">Structs &amp; Implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="inheritance.html">Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="controlFlow.html">Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrays.html">Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameterTypes.html">Parameter Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="enums.html">Enums</a></li>
<li class="toctree-l1"><a class="reference internal" href="pointers.html">Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="allocators.html">Allocators</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/about.html">Asylum Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/antlr.html">AST Creation With ANTLR4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/builder.html">Program Builder API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/visitor.html">Builder Code Calling For ASTs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/codeRepresentation.html">Working With The Code Representation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #de7cff" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Asylum</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Data Types</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/walkthrough/dataTypes.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-types">
<h1>Data Types<a class="headerlink" href="#data-types" title="Link to this heading"></a></h1>
<p>On the last page, you vaguely heard about the <code class="docutils literal notranslate"><span class="pre">int</span></code> data type. But what is a data type, what are they, and how do you use them?</p>
<section id="purpose-of-data-types">
<h2>Purpose Of Data Types<a class="headerlink" href="#purpose-of-data-types" title="Link to this heading"></a></h2>
<p>In Asylum, you can think of everything in an “is a” way. For example, 5 “is a” number, the vehicle you drive “is a” car, and <code class="docutils literal notranslate"><span class="pre">main</span></code> “is a” function. <strong>A data type lets the computer know what kind of data you are working with.</strong> Obviously, your computer needs to do different things to add numbers together compared to concatting text. And of course, if you write a function that adds numbers together, you wouldn’t want anyone to give it text, a function, or even a car.</p>
</section>
<section id="primitive-data-types">
<h2>Primitive Data Types<a class="headerlink" href="#primitive-data-types" title="Link to this heading"></a></h2>
<p>A primitive data type is a type that can not be recreated using other types available in the language. These types are built into the language and can be used anywhere.</p>
<section id="void">
<h3>Void<a class="headerlink" href="#void" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">void</span></code> type can be thought of to mean nothing or be void of anything. Functions return <code class="docutils literal notranslate"><span class="pre">void</span> </code>from default as the two functions below are the exact same:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">printItem</span><span class="p">(</span><span class="kt">str</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">printItem</span><span class="p">(</span><span class="kt">str</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">void</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-warning notranslate"><div class="highlight"><pre><span></span>It is illegal to declare a parameter or variable of type `void`! You can&#39;t have a variable that is nothing!
</pre></div>
</div>
</section>
<section id="bool">
<h3>Bool<a class="headerlink" href="#bool" title="Link to this heading"></a></h3>
<p>Any item that is either true or false can be represented as <code class="docutils literal notranslate"><span class="pre">bool</span></code>. A <code class="docutils literal notranslate"><span class="pre">bool</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> if it is <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code> if it is <code class="docutils literal notranslate"><span class="pre">false</span></code>. By default, a <code class="docutils literal notranslate"><span class="pre">bool</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>. Converting a <code class="docutils literal notranslate"><span class="pre">bool</span></code> to an integer will return a <code class="docutils literal notranslate"><span class="pre">1</span></code> if <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code> if false.</p>
</section>
<section id="integer-types">
<h3>Integer Types<a class="headerlink" href="#integer-types" title="Link to this heading"></a></h3>
<p>Perhaps the most common group of types in programming are integer types. Integers are used to represent whole numbers. Signed integers can be negative, while unsigned integers can not be negative. Below are the available integer types:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Minimum Value</p></th>
<th class="head"><p>Maximum Value</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Overflow/Underflow</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>s<code class="docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p>-(2^<code class="docutils literal notranslate"><span class="pre">X</span></code> / 2)</p></td>
<td><p>2^<code class="docutils literal notranslate"><span class="pre">X</span></code> / 2 - 1</p></td>
<td><p>A standard signed integer where <code class="docutils literal notranslate"><span class="pre">X</span></code> is the bitwidth of the number. Ex: <code class="docutils literal notranslate"><span class="pre">s16</span></code> is a signed 16-bit integer that ranges from -32768 to 32767 inclusively.</p></td>
<td><p>Undefined</p></td>
</tr>
<tr class="row-odd"><td><p>u<code class="docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p>0</p></td>
<td><p>2^<code class="docutils literal notranslate"><span class="pre">X</span></code> - 1</p></td>
<td><p>A standard unsigned integer where <code class="docutils literal notranslate"><span class="pre">X</span></code> is the bitwidth of the number. Ex: <code class="docutils literal notranslate"><span class="pre">u16</span></code> is an unsigned 16-bit integer that ranges from 0 to 65535 inclusively.</p></td>
<td><p>Undefined</p></td>
</tr>
<tr class="row-even"><td><p>so<code class="docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p>-(2^<code class="docutils literal notranslate"><span class="pre">X</span></code> / 2)</p></td>
<td><p>2^<code class="docutils literal notranslate"><span class="pre">X</span></code> / 2 - 1</p></td>
<td><p>Like <code class="docutils literal notranslate"><span class="pre">sX</span></code> but can be overflowed/underflowed.</p></td>
<td><p>Wraps</p></td>
</tr>
<tr class="row-odd"><td><p>uo<code class="docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p>0</p></td>
<td><p>2^<code class="docutils literal notranslate"><span class="pre">X</span></code> - 1</p></td>
<td><p>Like <code class="docutils literal notranslate"><span class="pre">uX</span></code> but can be overflowed/underflowed.</p></td>
<td><p>Wraps</p></td>
</tr>
<tr class="row-even"><td><p>int</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>A signed integer that is the bitwidth of the system’s registers. It is at least 16 bits. It is impossible to have an array index bigger than its range. Pointer math is also done with this.</p></td>
<td><p>Undefined</p></td>
</tr>
<tr class="row-odd"><td><p>uint</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>An unsigned integer that is the bitwidth of the system’s registers. It is at least 16 bits. It is impossible to have a type that has a size bigger than this.</p></td>
<td><p>Undefined</p></td>
</tr>
</tbody>
</table>
<p>Any integer has a default value of <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>It is also important to note that division by 0 will abort the program and dump a stack trace in debug mode and cause undefined behavior in release mode. In debug mode, an overflow or underflow will abort the program and dump a stack trace if it is undefined.</p>
</section>
<section id="floating-point-types">
<h3>Floating Point Types<a class="headerlink" href="#floating-point-types" title="Link to this heading"></a></h3>
<p>Another common primitive are numbers that have decimal points in them. Below are the available floating-point types:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>f<code class="docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p>Floating-point number with a bitwidth of <code class="docutils literal notranslate"><span class="pre">X</span></code>. Only <code class="docutils literal notranslate"><span class="pre">X</span></code> values of <code class="docutils literal notranslate"><span class="pre">16</span></code>, <code class="docutils literal notranslate"><span class="pre">32</span></code>, <code class="docutils literal notranslate"><span class="pre">64</span></code>, <code class="docutils literal notranslate"><span class="pre">80</span></code>, and <code class="docutils literal notranslate"><span class="pre">128</span></code> are allowed.</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>Floating-point number the size of floating-point registers on the system. It is at least 16-bits.</p></td>
</tr>
</tbody>
</table>
<p>Any floating point number has a default value of <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.</p>
<p>Note that any overflow, underflow, division by 0, or invalid operation will abort the program and dump a stack trace in debug mode and cause undefined behavior in release mode.</p>
</section>
<section id="other-numbers">
<h3>Other Numbers<a class="headerlink" href="#other-numbers" title="Link to this heading"></a></h3>
<p>Asylum also supports other types of numbers that are neither integer or floating point types.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>fix<code class="docutils literal notranslate"><span class="pre">X</span></code>x<code class="docutils literal notranslate"><span class="pre">Y</span></code></p></td>
<td><p>A fixed point number with <code class="docutils literal notranslate"><span class="pre">X</span></code> whole bits and <code class="docutils literal notranslate"><span class="pre">Y</span></code> fractional bits. Fixed-point numbers are signed. Both <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> must be positive integers.</p></td>
</tr>
<tr class="row-odd"><td><p>varlen</p></td>
<td><p>A number with infinite range. It can represent any number imaginable, though it comes with the cost of being very slow.</p></td>
</tr>
</tbody>
</table>
<p>Both number types have a default value of <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.</p>
<p>Note that any overflow, underflow, division by 0, or invalid operation will abort the program and dump a stack trace in debug mode and cause undefined behavior in release mode.</p>
</section>
<section id="text-based">
<h3>Text Based<a class="headerlink" href="#text-based" title="Link to this heading"></a></h3>
<p>Strings of text are composed of characters. Below are the types allowed:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>char</p></td>
<td><p>A text character. Characters are in the UTF8 format. You can think of this as a single item in text like ‘A’.</p></td>
</tr>
<tr class="row-odd"><td><p>wchar</p></td>
<td><p>A wide text character. Characters are in the UTF16 format.</p></td>
</tr>
<tr class="row-even"><td><p>str</p></td>
<td><p>A “string” of <code class="docutils literal notranslate"><span class="pre">char</span></code>s. Every string is null-terminated for compatibility with C APIs, though also contains its own length to make operations faster.</p></td>
</tr>
<tr class="row-odd"><td><p>wstr</p></td>
<td><p>A “wide string” of <code class="docutils literal notranslate"><span class="pre">wchar</span></code>s. Every wide string is null-terminated for compatibility with C APIs, though also contains its own length to make operations faster.</p></td>
</tr>
</tbody>
</table>
<p>By default, characters are set to <code class="docutils literal notranslate"><span class="pre">h</span></code>. The default value of a string is the empty string.</p>
</section>
<section id="function-type">
<h3>Function Type<a class="headerlink" href="#function-type" title="Link to this heading"></a></h3>
<p>The function type is in the form <code class="docutils literal notranslate"><span class="pre">func&lt;T(...)&gt;</span></code> It is a type that is a function that has a return type of <code class="docutils literal notranslate"><span class="pre">T</span></code> and parameter types for the function in the parenthesis. The add function from earlier is type <code class="docutils literal notranslate"><span class="pre">func&lt;int(int,</span> <span class="pre">int)&gt;</span></code>. It is mostly used for storing functions into variables.</p>
<p>Functions do not have a default value and must be initialized immediately.</p>
</section>
<section id="non-types">
<h3>Non-Types<a class="headerlink" href="#non-types" title="Link to this heading"></a></h3>
<p>These types are not really types and are context sensitive.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>var</p></td>
<td><p>This is not a type, it turns into another type that is automatically determined at compile time. It has its uses, but it is generally not recommended, this is a matter of opinion though.</p></td>
</tr>
<tr class="row-odd"><td><p>This</p></td>
<td><p>The current type being implemented in an implementation block.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="special-types">
<h2>Special Types<a class="headerlink" href="#special-types" title="Link to this heading"></a></h2>
<p>Like most other languages, Asylum has <em>special types</em> that are types that involve other types. This statement is confusing, but it’ll make sense after looking at the special types below (where <code class="docutils literal notranslate"><span class="pre">T</span></code> is any non-void data type). It is not expected for everything listed here to make sense, as they are discussed in more detail later:</p>
<section id="tuple-types">
<h3>Tuple Types<a class="headerlink" href="#tuple-types" title="Link to this heading"></a></h3>
<p>These are used for grouping types so you can return multiple types at the same time, or work with variables that contain multiple types.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>, <code class="docutils literal notranslate"><span class="pre">T</span></code>, <code class="docutils literal notranslate"><span class="pre">...</span></code>, <code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>Tuple</p></td>
<td><p>This allows you to store a bunch of other data types in one variable. Ex: <code class="docutils literal notranslate"><span class="pre">int,</span> <span class="pre">float,</span> <span class="pre">str</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>(<code class="docutils literal notranslate"><span class="pre">T</span></code>, <code class="docutils literal notranslate"><span class="pre">T</span></code>, <code class="docutils literal notranslate"><span class="pre">...</span></code>, <code class="docutils literal notranslate"><span class="pre">T</span></code>)</p></td>
<td><p>Tuple</p></td>
<td><p>This is the exact same as tuple, except with parenthesis around it. This is useful for removing ambiguity.</p></td>
</tr>
</tbody>
</table>
<p>A tuple has the default value where all its elements are at its default value if possible.</p>
</section>
<section id="array-types">
<h3>Array Types<a class="headerlink" href="#array-types" title="Link to this heading"></a></h3>
<p>Arrays are used for storing blocks of data that do not grow or shrink in size.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>[]</p></td>
<td><p>Dynamic array. This is an array of <code class="docutils literal notranslate"><span class="pre">T</span></code> that is allowed to be any length.</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>[C]</p></td>
<td><p>Constant array. This is an array of <code class="docutils literal notranslate"><span class="pre">T</span></code> that is constant with size C.</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>[A, B, …]</p></td>
<td><p>A dimensional array where <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, etc. are constants, but constants are not required to be specified. For example, <code class="docutils literal notranslate"><span class="pre">int[2,</span> <span class="pre">3]</span></code> can be thought of as a 2x3 grid of <code class="docutils literal notranslate"><span class="pre">int</span></code>s. <code class="docutils literal notranslate"><span class="pre">char[3,</span> <span class="pre">,</span> <span class="pre">7]</span></code> can be thought of as a 3d array of chars where one dimension is 3 long, the last is 7 long, and the other can be any length.</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>Arrays will have their elements be their default values if possible. Note that is not possible to store a dynamic array in a <code class="docutils literal notranslate"><span class="pre">struct</span></code> since they do not have a definite size.</p>
</section>
<section id="other-types">
<h3>Other Types<a class="headerlink" href="#other-types" title="Link to this heading"></a></h3>
<p>There are some other types that have special uses as well.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>&amp;</p></td>
<td><p>Reference</p></td>
<td><p>A not-null reference to a data type. For now, think of it as a shortcut to already existing data of the same type that always references data. (L-value reference for those familiar with C++).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>%</p></td>
<td><p>Move</p></td>
<td><p>Data being transferred that can not be written to (R-value reference for those familiar with C++).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>*</p></td>
<td><p>Pointer</p></td>
<td><p>A pointer that can only be used in unsafe contexts. For now, think of it as a shortcut to existing data without any safety mechanisms. This also allows you to do math operations with memory positions (it’s for more low-level uses so you most likely don’t need it).</p></td>
</tr>
</tbody>
</table>
<p>References and moved data do not have a default value and must be initialized immediately. Pointers are <code class="docutils literal notranslate"><span class="pre">null</span></code> by default.</p>
</section>
</section>
<section id="easl-types">
<h2>EASL Types<a class="headerlink" href="#easl-types" title="Link to this heading"></a></h2>
<p>EASL (Embedded Asylum Standard Library) is a thin layer over Asylum that helps implement the language itself. It is responsible for providing the types below. Note that all EASL types start with upper-case letters as only the primitive types start with lowercase.</p>
<section id="c-compatibility">
<h3>C Compatibility<a class="headerlink" href="#c-compatibility" title="Link to this heading"></a></h3>
<p>C uses different types from Asylum, so the below are for C compatibility. EASL <em>typedef</em>s, or creates new types that really just shortcut back to the original type:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>C Type</p></th>
<th class="head"><p>True Type</p></th>
<th class="head"><p>Range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>C_schar_t</p></td>
<td><p>signed char</p></td>
<td><p>s8</p></td>
<td><p>-128 to 127</p></td>
</tr>
<tr class="row-odd"><td><p>C_uchar_t</p></td>
<td><p>unsigned char</p></td>
<td><p>u8</p></td>
<td><p>0 to 255</p></td>
</tr>
<tr class="row-even"><td><p>C_char_t</p></td>
<td><p>char</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>C_short_t</p></td>
<td><p>short</p></td>
<td><p>s16</p></td>
<td><p>-32,768 to 32,767</p></td>
</tr>
<tr class="row-even"><td><p>C_ushort_t</p></td>
<td><p>unsigned short</p></td>
<td><p>u16</p></td>
<td><p>0 to 65,535</p></td>
</tr>
<tr class="row-odd"><td><p>C_int_t</p></td>
<td><p>int</p></td>
<td><p>s32</p></td>
<td><p>-2,147,483,648 to 2,147,483,647</p></td>
</tr>
<tr class="row-even"><td><p>C_uint_t</p></td>
<td><p>unsigned int</p></td>
<td><p>u32</p></td>
<td><p>0 to 4,294,967,295</p></td>
</tr>
<tr class="row-odd"><td><p>C_long_t</p></td>
<td><p>long</p></td>
<td><p>s32</p></td>
<td><p>-2,147,483,648 to 2,147,483,647</p></td>
</tr>
<tr class="row-even"><td><p>C_ulong_t</p></td>
<td><p>unsigned long</p></td>
<td><p>u32</p></td>
<td><p>0 to 4,294,967,295</p></td>
</tr>
<tr class="row-odd"><td><p>C_longlong_t</p></td>
<td><p>long long</p></td>
<td><p>s64</p></td>
<td><p>-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807</p></td>
</tr>
<tr class="row-even"><td><p>C_ulonglong_t</p></td>
<td><p>unsigned long long</p></td>
<td><p>u64</p></td>
<td><p>0 to 18,446,744,073,709,551,615</p></td>
</tr>
<tr class="row-odd"><td><p>C_float_t</p></td>
<td><p>float</p></td>
<td><p>f32</p></td>
<td><p>3.4E +/- 38 (7 digits)</p></td>
</tr>
<tr class="row-even"><td><p>C_double_t</p></td>
<td><p>double</p></td>
<td><p>f64</p></td>
<td><p>1.7E +/- 308 (15 digits)</p></td>
</tr>
<tr class="row-odd"><td><p>C_ssize_t</p></td>
<td><p>ssize_t</p></td>
<td><p>int</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>C_size_t</p></td>
<td><p>size_t</p></td>
<td><p>uint</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>C_intptr_t</p></td>
<td><p>intptr_t</p></td>
<td><p>int</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>C_uintptr_t</p></td>
<td><p>uintptr_t</p></td>
<td><p>uint</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
<p>Despite the fact that this table is final, it is highly recommended to continue using types such as <code class="docutils literal notranslate"><span class="pre">u16</span></code> when the type expected <em>must</em> be a 16-bit unsigned number. This helps better communicate the fact that the operation depends on there being 16-bits.</p>
</section>
<section id="smart-references">
<h3>Smart References<a class="headerlink" href="#smart-references" title="Link to this heading"></a></h3>
<p>Smart references are used to access data stored somewhere else without having to copy it. With the exception of nullable references, references will always have valid data.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>&#64;</p></td>
<td><p>Nullable Reference</p></td>
<td><p>Smart reference to a data that may be null.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>^</p></td>
<td><p>Owning Reference</p></td>
<td><p>Smart reference that owns data. When it goes out of scope, the value it owns dies with it. Owning references may only moved to other owning references, never copied. It is not possible for this reference to be null.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>#</p></td>
<td><p>Counted Reference</p></td>
<td><p>Smart reference that counts references to data. Copying it to another <code class="docutils literal notranslate"><span class="pre">T#</span></code> will increase the reference count, where moving it leaves the reference count the same. References that are not <code class="docutils literal notranslate"><span class="pre">T#</span></code> do not effect the reference count. It is not possible for this reference to be null.</p></td>
</tr>
</tbody>
</table>
<p>All references must be initialized while declared as they have no default value with the exception of the nullable reference, which is <code class="docutils literal notranslate"><span class="pre">null</span></code> by default.</p>
</section>
<section id="vectors">
<h3>Vectors<a class="headerlink" href="#vectors" title="Link to this heading"></a></h3>
<p>Vectors are shortcuts to tuples of multiple of the same type. For example, a <code class="docutils literal notranslate"><span class="pre">Vector&lt;float,</span> <span class="pre">4&gt;</span></code> will produce a tuple of <code class="docutils literal notranslate"><span class="pre">4</span></code> <code class="docutils literal notranslate"><span class="pre">float</span></code> elements. EASL defines typedefs for commonly used vector types:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>True Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Vec2</p></td>
<td><p>Vector&lt;float, 2&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Vec3</p></td>
<td><p>Vector&lt;float, 3&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Vec4</p></td>
<td><p>Vector&lt;float, 4&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>UVec2</p></td>
<td><p>Vector&lt;uint, 2&gt;</p></td>
</tr>
<tr class="row-even"><td><p>UVec3</p></td>
<td><p>Vector&lt;uint, 3&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>UVec4</p></td>
<td><p>Vector&lt;uint, 4&gt;</p></td>
</tr>
<tr class="row-even"><td><p>SVec2</p></td>
<td><p>Vector&lt;int, 2&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>SVec3</p></td>
<td><p>Vector&lt;int, 3&gt;</p></td>
</tr>
<tr class="row-even"><td><p>SVec4</p></td>
<td><p>Vector&lt;int, 4&gt;</p></td>
</tr>
</tbody>
</table>
</section>
<section id="matrices">
<h3>Matrices<a class="headerlink" href="#matrices" title="Link to this heading"></a></h3>
<p>EASL also allows you to declare a matrix with <code class="docutils literal notranslate"><span class="pre">Matrix&lt;T,</span> <span class="pre">U,</span> <span class="pre">V&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">T</span></code> is the element type, <code class="docutils literal notranslate"><span class="pre">U</span></code> is the number of rows, and <code class="docutils literal notranslate"><span class="pre">V</span></code> is the number of columns. This means a <code class="docutils literal notranslate"><span class="pre">Matrix&lt;float,</span> <span class="pre">3,</span> <span class="pre">4&gt;</span></code> is a matrix of <code class="docutils literal notranslate"><span class="pre">float</span></code> elements with <code class="docutils literal notranslate"><span class="pre">3</span></code> rows and <code class="docutils literal notranslate"><span class="pre">4</span></code> columns. Note that <code class="docutils literal notranslate"><span class="pre">T</span></code> must have addition, subtraction, multiplication, and division defined with itself. Like vectors, EASL defines some typedefs for commonly used matrix types:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>True Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Matrix2x2</p></td>
<td><p>Matrix&lt;float, 2, 2&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Matrix2x3</p></td>
<td><p>Matrix&lt;float, 2, 3&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Matrix3x3</p></td>
<td><p>Matrix&lt;float, 3, 3&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Matrix3x4</p></td>
<td><p>Matrix&lt;float, 3, 4&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Matrix4x4</p></td>
<td><p>Matrix&lt;float, 4, 4&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>UMatrix2x2</p></td>
<td><p>Matrix&lt;uint, 2, 2&gt;</p></td>
</tr>
<tr class="row-even"><td><p>UMatrix2x3</p></td>
<td><p>Matrix&lt;uint, 2, 3&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>UMatrix3x3</p></td>
<td><p>Matrix&lt;uint, 3, 3&gt;</p></td>
</tr>
<tr class="row-even"><td><p>UMatrix3x4</p></td>
<td><p>Matrix&lt;uint, 3, 4&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>UMatrix4x4</p></td>
<td><p>Matrix&lt;uint, 4, 4&gt;</p></td>
</tr>
<tr class="row-even"><td><p>SMatrix2x2</p></td>
<td><p>Matrix&lt;int, 2, 2&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>SMatrix2x3</p></td>
<td><p>Matrix&lt;int, 2, 3&gt;</p></td>
</tr>
<tr class="row-even"><td><p>SMatrix3x3</p></td>
<td><p>Matrix&lt;int, 3, 3&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>SMatrix3x4</p></td>
<td><p>Matrix&lt;int, 3, 4&gt;</p></td>
</tr>
<tr class="row-even"><td><p>SMatrix4x4</p></td>
<td><p>Matrix&lt;int, 4, 4&gt;</p></td>
</tr>
</tbody>
</table>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">Vector&lt;T,</span> <span class="pre">U&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">Matrix&lt;T,</span> <span class="pre">U,</span> <span class="pre">V&gt;</span></code> is a struct rather than a tuple. Its composure looks like:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">Matrix</span><span class="o">&lt;</span><span class="k">type</span> <span class="nc">T</span>: <span class="nc">Add</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Sub</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Mul</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Div</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">uint</span><span class="w"> </span><span class="n">U</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">U</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">uint</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Vector</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="o">&gt;</span><span class="p">[</span><span class="n">V</span><span class="p">]</span><span class="w"> </span><span class="n">cols</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id1">
<h3>Other Types<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>Some other types that EASL defines:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">T</span></code>?</p></td>
<td><p>Optional</p></td>
<td><p>An optional value. Either contains <code class="docutils literal notranslate"><span class="pre">T</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>Res&lt;<code class="docutils literal notranslate"><span class="pre">T</span></code>, <code class="docutils literal notranslate"><span class="pre">U</span></code>&gt;</p></td>
<td><p>When a success occurs, the value of type <code class="docutils literal notranslate"><span class="pre">T</span></code> will be returned. When an error occurs, the value of type <code class="docutils literal notranslate"><span class="pre">U</span></code> will be used. Note that both are allowed to be <code class="docutils literal notranslate"><span class="pre">void</span></code>.</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>Optional is <code class="docutils literal notranslate"><span class="pre">null</span></code> by default. Results by default are set to an error of the default type of <code class="docutils literal notranslate"><span class="pre">U</span></code> if possible. It’s also important to note that <code class="docutils literal notranslate"><span class="pre">T?</span></code> and <code class="docutils literal notranslate"><span class="pre">Res&lt;T,</span> <span class="pre">void&gt;</span></code> are identical types.</p>
</section>
</section>
<section id="storage-qualifiers">
<h2>Storage Qualifiers<a class="headerlink" href="#storage-qualifiers" title="Link to this heading"></a></h2>
<p>You’re allowed to tag on storage qualifiers to add rules on how data is allowed to be accessed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>readonly/ro <code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>A type <code class="docutils literal notranslate"><span class="pre">T</span></code>, but you can only assign to it once. This is optimal for data you know will definitely not change, and is known at compile time. All parameters of functions are always <code class="docutils literal notranslate"><span class="pre">ro</span></code> (discussed later).</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>writeonly/wo <code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>A type <code class="docutils literal notranslate"><span class="pre">T</span></code>, but you can only write to it and not read from it. This is useful for hardware registers.</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>static <code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>A type <code class="docutils literal notranslate"><span class="pre">T</span></code>, but there is only one instance of it across everything. For example, say you make a <code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">int</span></code> inside a function, and inside this function, this <code class="docutils literal notranslate"><span class="pre">int</span></code> is incremented. Instead of creating a new <code class="docutils literal notranslate"><span class="pre">int</span></code> every time you would call the function and having its value increment to one each time, this will instead act like a counter for every time you call the function as that variable is shared across every time that single function is called. The constructor for the type is only called once initially though.</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>volatile <code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>If you need to make sure <code class="docutils literal notranslate"><span class="pre">T</span></code> has changed, for example you are using it as a condition in a loop, you can mark it as volatile.</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>atomic <code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>Declaring a type as atomic will make sure only one thread is allowed to use it at a time.</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>Again, do not be overwhelmed if these do not make sense. They will all be explored in more detail later.</p>
</section>
<section id="typedefs">
<h2>Typedefs<a class="headerlink" href="#typedefs" title="Link to this heading"></a></h2>
<p>Asylum creates those above “shortcuts” but doing what is called a typedef statement. These are to be placed outside of functions, structures, and implementations.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span><span class="w"> </span><span class="n">medIntArr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s24</span><span class="p">[];</span>
</pre></div>
</div>
<p>This example creates a new type called, <code class="docutils literal notranslate"><span class="pre">medIntArr</span></code>, which is really just a dynamic array of 24-bit signed integers in disguise. You can use <code class="docutils literal notranslate"><span class="pre">medIntArr</span></code> and <code class="docutils literal notranslate"><span class="pre">s24[]</span></code> interchangibly, they are the exact same thing.</p>
</section>
<section id="structs">
<h2>Structs<a class="headerlink" href="#structs" title="Link to this heading"></a></h2>
<p>Of course, making other names for existing types is cool and all, but it can only go so far. Structs allow you to group together a bunch of data types like so:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">Color</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">byte</span><span class="w"> </span><span class="n">red</span><span class="p">;</span>
<span class="w">    </span><span class="n">byte</span><span class="w"> </span><span class="n">green</span><span class="p">;</span>
<span class="w">    </span><span class="n">byte</span><span class="w"> </span><span class="n">blue</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="nc">Car</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">str</span><span class="w"> </span><span class="n">licensePlate</span><span class="p">;</span>
<span class="w">    </span><span class="n">Color</span><span class="w"> </span><span class="n">rgbColor</span><span class="p">;</span>
<span class="w">    </span><span class="n">int</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<span class="w">    </span><span class="kt">str</span><span class="w"> </span><span class="n">model</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now you can pass around more meaningful data!</p>
<section id="infinite-structs">
<h3>Infinite Structs<a class="headerlink" href="#infinite-structs" title="Link to this heading"></a></h3>
<p>As you can see above, you can put structs inside of other structs. But one thing that is not allowed is putting a struct inside itself. Why is this a problem? Well let’s think about it:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">IllegalStruct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">str</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="n">int</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<span class="w">    </span><span class="n">IllegalStruct</span><span class="w"> </span><span class="n">illegalStruct</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Nothing too evil looking, right? But the compiler needs to determine the size of a struct at compile time. So let’s try and think of how that happens. We know that Asylum takes care of strings, and trying to figure out its size is a complex topic. But strings do have a fixed length, even if it is a black box to us. Ok, <code class="docutils literal notranslate"><span class="pre">int</span></code>, that’s easy, 32 bits or 4 bytes. Ok, and it contains an <code class="docutils literal notranslate"><span class="pre">IllegalStruct</span></code>, so we just give it the length of the <code class="docutils literal notranslate"><span class="pre">IllegalStruct</span></code>. Ok, now we need to go inside that <code class="docutils literal notranslate"><span class="pre">IllegalStruct</span></code> and figure out the length of its <code class="docutils literal notranslate"><span class="pre">IllegalStruct</span></code>… This is the problem. We’ll keep trying to figure out the length in an infinite loop. So how do we fix it? If you remember from earlier, we have references which allow us to have a “shortcut” to data:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">LegalStruct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">str</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="n">int</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<span class="w">    </span><span class="n">LegalStruct</span><span class="o">^?</span><span class="w"> </span><span class="n">legalStruct</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is legal, since we don’t need to know the length of <code class="docutils literal notranslate"><span class="pre">LegalStruct</span></code> to calculate the length of <code class="docutils literal notranslate"><span class="pre">LegalStruct</span></code>. A reference/shortcut always has a fixed length, no matter what type of data it shortcuts/points to. We need to also make the owning reference optional so that we can end the chain of structs when there is no more (or else it’d have to go on forever). Using a reference instead does add some things we will have to do when using it, but this will be discussed later. Also note the following illegal code:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">IllegalA</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">str</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="n">int</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<span class="w">    </span><span class="n">IllegalB</span><span class="w"> </span><span class="n">illegalB</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="nc">IllegalB</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">str</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="n">int</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<span class="w">    </span><span class="n">IllegalA</span><span class="w"> </span><span class="n">illegalA</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Similarly, like a struct containing itself, this will also produce an infinite loop for the compiler that won’t be able to determine the length of the structure. This can again be fixed by making either the <code class="docutils literal notranslate"><span class="pre">illegalA</span></code> or <code class="docutils literal notranslate"><span class="pre">illegalB</span></code> members a reference. Note that just having one reference solves the infinite struct error.</p>
</section>
</section>
<section id="challenges">
<h2>Challenges<a class="headerlink" href="#challenges" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Explain the difference between unsigned and signed integers. What is a common signed type?</p></li>
<li><p>Explain the difference between a floating-point and a fixed-point number. What is a common floating-point type?</p></li>
<li><p>What type of number is <code class="docutils literal notranslate"><span class="pre">c_long_t</span></code>? Is it unsigned, signed, floating-point, or fixed-point?</p></li>
<li><p>Remember the <code class="docutils literal notranslate"><span class="pre">add</span></code> function from earlier? Remake it so that <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> can have a decimal point.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">struct</span></code> that represents a circle. Each circle has a radius, a line width, color, and can have another circle inside of it. Create any other necessary <code class="docutils literal notranslate"><span class="pre">struct</span></code>s.</p></li>
</ol>
</section>
<section id="challenge-solutions">
<h2>Challenge Solutions<a class="headerlink" href="#challenge-solutions" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="solutions/dataTypes1.html"><span class="std std-doc">Solution 1</span></a></p></li>
<li><p><a class="reference internal" href="solutions/dataTypes2.html"><span class="std std-doc">Solution 2</span></a></p></li>
<li><p><a class="reference internal" href="solutions/dataTypes3.html"><span class="std std-doc">Solution 3</span></a></p></li>
<li><p><a class="reference internal" href="solutions/dataTypes4.html"><span class="std std-doc">Solution 4</span></a></p></li>
<li><p><a class="reference internal" href="solutions/dataTypes5.html"><span class="std std-doc">Solution 5</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="functions.html" class="btn btn-neutral float-left" title="Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="variables.html" class="btn btn-neutral float-right" title="Variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Asylum Lang Foundation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>